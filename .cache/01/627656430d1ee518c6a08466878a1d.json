{"id":"node_modules/@babylonjs/core/Shaders/motionBlur.fragment.js","dependencies":[{"name":"C:\\Users\\varun\\Documents\\Visual Studio\\varun-unnithan\\node_modules\\@babylonjs\\core\\Shaders\\motionBlur.fragment.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\varun\\Documents\\Visual Studio\\varun-unnithan\\package.json","includedInParent":true,"mtime":1619046869845},{"name":"C:\\Users\\varun\\Documents\\Visual Studio\\varun-unnithan\\.babelrc","includedInParent":true,"mtime":1618361427593},{"name":"C:\\Users\\varun\\Documents\\Visual Studio\\varun-unnithan\\node_modules\\@babylonjs\\core\\package.json","includedInParent":true,"mtime":499162500000},{"name":"../Materials/effect","loc":{"line":1,"column":23},"parent":"C:\\Users\\varun\\Documents\\Visual Studio\\varun-unnithan\\node_modules\\@babylonjs\\core\\Shaders\\motionBlur.fragment.js","resolved":"C:\\Users\\varun\\Documents\\Visual Studio\\varun-unnithan\\node_modules\\@babylonjs\\core\\Materials\\effect.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.motionBlurPixelShader = void 0;\n\nvar _effect = require(\"../Materials/effect\");\n\nvar name = 'motionBlurPixelShader';\nvar shader = \"\\nvarying vec2 vUV;\\nuniform sampler2D textureSampler;\\nuniform float motionStrength;\\nuniform float motionScale;\\nuniform vec2 screenSize;\\n#ifdef OBJECT_BASED\\nuniform sampler2D velocitySampler;\\n#else\\nuniform sampler2D depthSampler;\\nuniform mat4 inverseViewProjection;\\nuniform mat4 prevViewProjection;\\n#endif\\nvoid main(void)\\n{\\n#ifdef GEOMETRY_SUPPORTED\\n#ifdef OBJECT_BASED\\nvec2 texelSize=1.0/screenSize;\\nvec2 velocityColor=texture2D(velocitySampler,vUV).rg*2.0-1.0;\\nvec2 velocity=vec2(pow(velocityColor.r,3.0),pow(velocityColor.g,3.0));\\nvelocity*=motionScale*motionStrength;\\nfloat speed=length(velocity/texelSize);\\nint samplesCount=int(clamp(speed,1.0,SAMPLES));\\nvelocity=normalize(velocity)*texelSize;\\nfloat hlim=float(-samplesCount)*0.5+0.5;\\nvec4 result=texture2D(textureSampler,vUV);\\nfor (int i=1; i<int(SAMPLES); ++i)\\n{\\nif (i>=samplesCount)\\nbreak;\\nvec2 offset=vUV+velocity*(hlim+float(i));\\nresult+=texture2D(textureSampler,offset);\\n}\\ngl_FragColor=result/float(samplesCount);\\ngl_FragColor.a=1.0;\\n#else\\nvec2 texelSize=1.0/screenSize;\\nfloat depth=texture2D(depthSampler,vUV).r;\\nvec4 cpos=vec4(vUV*2.0-1.0,depth,1.0);\\ncpos=cpos*inverseViewProjection;\\nvec4 ppos=cpos*prevViewProjection;\\nppos.xyz/=ppos.w;\\nppos.xy=ppos.xy*0.5+0.5;\\nvec2 velocity=(ppos.xy-vUV)*motionScale*motionStrength;\\nfloat speed=length(velocity/texelSize);\\nint nSamples=int(clamp(speed,1.0,SAMPLES));\\nvec4 result=texture2D(textureSampler,vUV);\\nfor (int i=1; i<int(SAMPLES); ++i) {\\nif (i>=nSamples)\\nbreak;\\nvec2 offset1=vUV+velocity*(float(i)/float(nSamples-1)-0.5);\\nresult+=texture2D(textureSampler,offset1);\\n}\\ngl_FragColor=result/float(nSamples);\\n#endif\\n#else\\ngl_FragColor=texture2D(textureSampler,vUV);\\n#endif\\n}\\n\";\n_effect.Effect.ShadersStore[name] = shader;\n/** @hidden */\n\nvar motionBlurPixelShader = {\n  name: name,\n  shader: shader\n};\nexports.motionBlurPixelShader = motionBlurPixelShader;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":8,"column":0}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":10,"column":0}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":3,"column":4},"generated":{"line":10,"column":4}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":3,"column":8},"generated":{"line":10,"column":8}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":3,"column":11},"generated":{"line":10,"column":11}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":10,"column":34}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":11,"column":0}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":4,"column":4},"generated":{"line":11,"column":4}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":4,"column":10},"generated":{"line":11,"column":10}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":11,"column":13}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":11,"column":1750}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":65,"column":0},"generated":{"line":12,"column":0}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":65,"column":7},"generated":{"line":12,"column":15}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":65,"column":0},"generated":{"line":12,"column":27}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":65,"column":20},"generated":{"line":12,"column":28}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":65,"column":0},"generated":{"line":12,"column":32}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":65,"column":28},"generated":{"line":12,"column":36}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":65,"column":0},"generated":{"line":12,"column":42}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":13,"column":0}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":67,"column":7},"generated":{"line":15,"column":0}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":67,"column":11},"generated":{"line":15,"column":4}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":67,"column":32},"generated":{"line":15,"column":25}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":67,"column":35},"generated":{"line":15,"column":28}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":67,"column":37},"generated":{"line":16,"column":0}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":67,"column":37},"generated":{"line":16,"column":2}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":67,"column":41},"generated":{"line":16,"column":6}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":67,"column":41},"generated":{"line":16,"column":8}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":67,"column":35},"generated":{"line":16,"column":12}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":67,"column":43},"generated":{"line":17,"column":0}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":67,"column":43},"generated":{"line":17,"column":2}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":67,"column":49},"generated":{"line":17,"column":8}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":67,"column":49},"generated":{"line":17,"column":10}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":67,"column":35},"generated":{"line":18,"column":0}},{"source":"../../../sourceES6/core/Shaders/motionBlur.fragment.ts","name":null,"original":{"line":67,"column":7},"generated":{"line":18,"column":1}}],"sources":{"../../../sourceES6/core/Shaders/motionBlur.fragment.ts":"import { Effect } from \"../Materials/effect\";\n\nlet name = 'motionBlurPixelShader';\nlet shader = `\nvarying vec2 vUV;\nuniform sampler2D textureSampler;\nuniform float motionStrength;\nuniform float motionScale;\nuniform vec2 screenSize;\n#ifdef OBJECT_BASED\nuniform sampler2D velocitySampler;\n#else\nuniform sampler2D depthSampler;\nuniform mat4 inverseViewProjection;\nuniform mat4 prevViewProjection;\n#endif\nvoid main(void)\n{\n#ifdef GEOMETRY_SUPPORTED\n#ifdef OBJECT_BASED\nvec2 texelSize=1.0/screenSize;\nvec2 velocityColor=texture2D(velocitySampler,vUV).rg*2.0-1.0;\nvec2 velocity=vec2(pow(velocityColor.r,3.0),pow(velocityColor.g,3.0));\nvelocity*=motionScale*motionStrength;\nfloat speed=length(velocity/texelSize);\nint samplesCount=int(clamp(speed,1.0,SAMPLES));\nvelocity=normalize(velocity)*texelSize;\nfloat hlim=float(-samplesCount)*0.5+0.5;\nvec4 result=texture2D(textureSampler,vUV);\nfor (int i=1; i<int(SAMPLES); ++i)\n{\nif (i>=samplesCount)\nbreak;\nvec2 offset=vUV+velocity*(hlim+float(i));\nresult+=texture2D(textureSampler,offset);\n}\ngl_FragColor=result/float(samplesCount);\ngl_FragColor.a=1.0;\n#else\nvec2 texelSize=1.0/screenSize;\nfloat depth=texture2D(depthSampler,vUV).r;\nvec4 cpos=vec4(vUV*2.0-1.0,depth,1.0);\ncpos=cpos*inverseViewProjection;\nvec4 ppos=cpos*prevViewProjection;\nppos.xyz/=ppos.w;\nppos.xy=ppos.xy*0.5+0.5;\nvec2 velocity=(ppos.xy-vUV)*motionScale*motionStrength;\nfloat speed=length(velocity/texelSize);\nint nSamples=int(clamp(speed,1.0,SAMPLES));\nvec4 result=texture2D(textureSampler,vUV);\nfor (int i=1; i<int(SAMPLES); ++i) {\nif (i>=nSamples)\nbreak;\nvec2 offset1=vUV+velocity*(float(i)/float(nSamples-1)-0.5);\nresult+=texture2D(textureSampler,offset1);\n}\ngl_FragColor=result/float(nSamples);\n#endif\n#else\ngl_FragColor=texture2D(textureSampler,vUV);\n#endif\n}\n`;\n\nEffect.ShadersStore[name] = shader;\n/** @hidden */\nexport var motionBlurPixelShader = { name, shader };\n"},"lineCount":null}},"error":null,"hash":"98260b6057b053d4a057955eea172a8f","cacheData":{"env":{}}}